<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>io:clear</title>
<meta name="generator" content="DokuWiki Release 2009-12-25c &quot;Lemming&quot;" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2009-07-24T16:26:24-0700" />
<meta name="keywords" content="io,clear" />
<link rel="search" type="application/opensearchdescription+xml" href="http://www.cppreference.com/wiki/lib/exe/opensearch.php" title="C++ Reference" />
<link rel="start" href="../index.html" />
<link rel="contents" href="http://www.cppreference.com/wiki/io/clear?do=index" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="http://www.cppreference.com/wiki/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="http://www.cppreference.com/wiki/feed.php?mode=list&amp;ns=io" />
<link rel="alternate" type="text/html" title="Plain HTML" href="http://www.cppreference.com/wiki/_export/xhtml/io/clear" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://www.cppreference.com/wiki/_export/raw/io/clear" />
<link rel="canonical" href="clear" />
<link rel="stylesheet" media="all" type="text/css" href="../lib/exe/css.php@s=all&amp;t=custom1&amp;tseed=1265723194" />
<link rel="stylesheet" media="screen" type="text/css" href="../lib/exe/css.php@t=custom1&amp;tseed=1265723194" />
<link rel="stylesheet" media="print" type="text/css" href="../lib/exe/css.php@s=print&amp;t=custom1&amp;tseed=1265723194" />
<script type="text/javascript" charset="utf-8" ><!--//--><![CDATA[//><!--
var NS='io';var JSINFO = {"id":"io:clear","namespace":"io"};
//--><!]]></script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js.php@tseed=1265723194" ></script>
</head>
<body>
<div class="dokuwiki export">



<h2><a name="clear" id="clear">clear</a></h2>
<div class="level2">

<p>
Syntax:
</p>
<pre class="c code c++" style="font-family:monospace;">    <span class="kw4">void</span> stream<span class="sy0">::</span><span class="me2">clear</span><span class="br0">&#40;</span> iostate flags <span class="sy0">=</span> ios<span class="sy0">::</span><span class="me2">goodbit</span> <span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>

The function clear() does two things:

</p>
<ul>
<li class="level1"><div class="li"> it clears all io_stream_state_flags associated with the current stream,</div>
</li>
<li class="level1"><div class="li"> and sets the flags denoted by flags</div>
</li>
</ul>

<p>

The flags argument defaults to ios::goodbit, which means that by default, all
flags will be cleared and ios::goodbit will be set.
For example, the following code uses the clear() function to reset the flags of
an output file stream, after an attempt is made to read from that output
stream.
</p>

<p>
Example code:
</p>
<pre class="c code c++" style="font-family:monospace;">   fstream outputFile<span class="br0">&#40;</span> <span class="st0">&quot;output.txt&quot;</span><span class="sy0">,</span> fstream<span class="sy0">::</span><span class="me2">out</span> <span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   <span class="co1">// try to read from the output stream; this shouldn't work</span>
   <span class="kw4">int</span> val<span class="sy0">;</span>
   outputFile <span class="sy0">&gt;&gt;</span> val<span class="sy0">;</span>
   <span class="kw1">if</span><span class="br0">&#40;</span> outputFile.<span class="me1">fail</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span> <span class="br0">&#123;</span>
     <a href="http://www.opengroup.org/onlinepubs/009695399/functions/cout.html"><span class="kw3">cout</span></a> <span class="sy0">&lt;&lt;</span> <span class="st0">&quot;Error reading from the output stream&quot;</span> <span class="sy0">&lt;&lt;</span> endl<span class="sy0">;</span>
     <span class="co1">// reset the flags associated with the stream</span>
     outputFile.<span class="me1">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
   <span class="kw1">for</span><span class="br0">&#40;</span> <span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> <span class="nu0">10</span><span class="sy0">;</span> i<span class="sy0">++</span> <span class="br0">&#41;</span> <span class="br0">&#123;</span>
     outputFile <span class="sy0">&lt;&lt;</span> i <span class="sy0">&lt;&lt;</span> <span class="st0">&quot; &quot;</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
   outputFile <span class="sy0">&lt;&lt;</span> endl<span class="sy0">;</span></pre>
<p>
Related Topics: <a href="eof" class="wikilink1" title="io:eof">eof</a>, <a href="fail" class="wikilink1" title="io:fail">fail</a>, <a href="good" class="wikilink1" title="io:good">good</a>, <a href="rdstate" class="wikilink1" title="io:rdstate">rdstate</a>
</p>

</div>
<!-- SECTION "clear" [3-] --></div>
</body>
</html>
